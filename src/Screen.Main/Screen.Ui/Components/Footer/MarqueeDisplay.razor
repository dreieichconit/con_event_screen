@using Screen.Services.Interfaces.Display
@inject IMarqueeService MarqueeService

<MudStack Row="true" Class="w-100 h-100 mh-100 mw-100 overflow-hidden">
    <div id="marquee">
        <div class="@Class" style="@Style">
            <MudText Typo="Typo.h1" style="@Style">@MarqueeService.MarqueeText</MudText>
        </div>
    </div>
</MudStack>

@code {

    protected override void OnInitialized()
    {
        base.OnInitialized();
        MarqueeService.ReloadUi += (_, _) => InvokeAsync(StateHasChanged);
    }

    public string Class => MarqueeService.Scroll ? "marquee-text anim" : "marquee-text";

    public string Style => MarqueeService.Scroll ? $"animation-duration: {MarqueeService.ScrollSpeed}s !important" : "";

}